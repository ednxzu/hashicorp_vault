---
# defaults file for hashicorp_vault
hashi_vault_install: true
hashi_vault_start_service: true
hashi_vault_version: latest
hashi_vault_deploy_method: host  # deployment method, either host or docker
hashi_vault_env_variables: []
hashi_vault_data_dir: "/opt/vault"
#! vault generic variable
hashi_vault_cluster_name: vault
hashi_vault_cluster_addr: "https://127.0.0.1:8200"
hashi_vault_api_addr: "https://127.0.0.1:8201"
hashi_vault_ui_enabled: true
hashi_vault_disable_mlock: false
hashi_vault_disable_cache: false
#! vault tcp listener
hashi_vault_tcp_listener_enable: true
hashi_vault_tcp_listener:
  address: "127.0.0.1:8200"
  cluster_address: "127.0.0.1:8201"
  tls_disable: 0
  tls_disable_client_certs: false
  tls_cert_file: "{{ hashi_vault_data_dir }}/tls/tls.crt" # this use the autogenerated TLS certificates
  tls_key_file: "{{ hashi_vault_data_dir }}/tls/tls.key" # this use the autogenerated TLS certificates
#! vault storage backend
hashi_vault_storage_backend_type: file # supports file, raft or consul for now.
hashi_vault_storage_backend:
  path: "{{ hashi_vault_data_dir }}/data"
  # node_id: "{{ ansible_hostname }}"
  # address: 127.0.0.1:8500
  # scheme: http
  # token: someUUIDforconsul
hashi_vault_raft_retry_join: {}
  # - leader_api_addr: "http://127.0.0.2:8200"
  #   leader_ca_cert_file: "/opt/vault/tls/ca.pem"
  # - leader_api_addr: "http://127.0.0.3:8200"
  # - auto_join: "provider=aws region=eu-west-1 tag_key=vault"
#! vault consul registration
hashi_vault_service_registration_enable: false
hashi_vault_service_registration_type: consul
hashi_vault_service_registration:
  address: 127.0.0.1:8500
  scheme: https
  token: someUUIDforconsul
#! vault telemetry
hashi_vault_telemetry_enable: true
hashi_vault_telemetry:
  usage_gauge_period: 10m
  maximum_gauge_cardinality: 500
  disable_hostname: false
  enable_hostname_label: false
  lease_metrics_epsilon: 1h
  num_lease_metrics_buckets: 168
  add_lease_metrics_namespace_labels: false
  filter_default: true
  prefix_filter: []
  prometheus_retention_time: 24h
